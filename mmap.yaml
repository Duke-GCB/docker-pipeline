name:
  MMAP
host:
steps: # An ordered list of steps
  -
    name: "Assemble Reads using genovo"
    image: "dukegcb/genovo"
    infiles:
      CONT_INPUT_READS_FILE: '/Users/dcl9/Data/mmap-docker/raw/MMAP_example.fasta'
    outfiles:
      CONT_OUTPUT_CONTIGS_FILE: '/Users/dcl9/Data/mmap-docker/assembled/MMAP_example-contigs.fasta'
    parameters:
      CONT_INPUT_ASSEMBLE_ITERATIONS: '10'
  - 
    name: "Identify genes using glimmer"
    image: "dukegcb/glimmer"
    infiles:
      CONT_INPUT_CONTIGS_FILE: '/Users/dcl9/Data/mmap-docker/assembled/MMAP_example-contigs.fasta'
    outfiles:
      CONT_OUTPUT_ORFS_FILE: '/Users/dcl9/Data/mmap-docker/genes/MMAP_example-genes.glimmer'
  -
    name: "Query local Gene Ontology sequence db using BLAST+"
    image: "dukegcb/go-blast"
    infiles:
      CONT_INPUT_ORFS_FILE: '/Users/dcl9/Data/mmap-docker/genes/MMAP_example-genes.glimmer'
      CONT_INPUT_BLAST_DB: '/Users/dcl9/Data/go-blastdb/go-seqdb'
    outfiles:
      CONT_OUTPUT_BLAST_RESULTS: '/Users/dcl9/Data/mmap-docker/annotations/MMAP_example-blast_annotations.csv'
  -
    name: "Extract GO Terms from BLAST output"
    image: "dukegcb/extract-go-terms"
    infiles:
      CONT_INPUT_BLAST_RESULTS_FILE: '/Users/dcl9/Data/mmap-docker/annotations/MMAP_example-blast_annotations.csv'
    outfiles:
      CONT_OUTPUT_GOTERMS_FILE: '/Users/dcl9/Data/mmap-docker/goterms/MMAP_example-goterms.csv'
